<view class="search-bar">
  <view class="search-input">
    <icon type="search" size="16" color="#999" style="margin-right: 10rpx;"/>
    <input type="text" placeholder="æœç´¢åœ°ç‚¹æˆ–æœºä½æ ‡ç­¾" bindinput="search" value="{{searchKeyword}}"/>
  </view>
  <view class="filter-btn" bindtap="showFilter">
    <icon type="filter" size="20" color="#333"/>
  </view>
</view>

<!-- æ‘„å½±åšä¸»é£æ ¼çš„å†…å®¹æµ -->
<view class="content-container" style="margin-top: 110rpx; padding-bottom: 120rpx;">
  <!-- åˆ†ç±»ç­›é€‰æ  -->
  <view class="category-bar">
    <scroll-view scroll-x="true" enable-flex>
      <view class="category-item {{activeCategory === 'all' ? 'active' : ''}}" bindtap="changeCategory" data-category="all">å…¨éƒ¨</view>
      <view class="category-item {{activeCategory === 'architecture' ? 'active' : ''}}" bindtap="changeCategory" data-category="architecture">å»ºç­‘</view>
      <view class="category-item {{activeCategory === 'nature' ? 'active' : ''}}" bindtap="changeCategory" data-category="nature">è‡ªç„¶</view>
      <view class="category-item {{activeCategory === 'portrait' ? 'active' : ''}}" bindtap="changeCategory" data-category="portrait">äººåƒ</view>
      <view class="category-item {{activeCategory === 'street' ? 'active' : ''}}" bindtap="changeCategory" data-category="street">è¡—æ‹</view>
    </scroll-view>
  </view>
  
  <!-- å†…å®¹åˆ—è¡¨ -->
  <view class="post-list">
    <block wx:for="{{locations}}" wx:key="id">
      <view class="post-card" bindtap="onCardTap" data-id="{{item.id}}">
        <!-- ä½œè€…ä¿¡æ¯ -->
        <view class="post-header">
          <image class="avatar" src="{{item.author.avatar}}"/>
          <view class="author-info">
            <view class="nickname">{{item.author.nickname}}</view>
            <view class="post-time">{{item.postTime}}</view>
          </view>
        </view>
        
        <!-- æ ‡é¢˜å’Œç®€ä»‹ -->
        <view class="post-title">{{item.name}}</view>
        <view class="post-description">{{item.description}}</view>
        
        <!-- å›¾ç‰‡å±•ç¤ºåŒºåŸŸ -->
        <view class="images-container">
          <block wx:if="{{item.images.length === 1}}">
            <!-- å•å¼ å›¾ç‰‡ -->
            <image class="single-image" src="{{item.images[0]}}" mode="aspectFill"/>
          </block>
          <block wx:elif="{{item.images.length === 2}}">
            <!-- ä¸¤å¼ å›¾ç‰‡ -->
            <view class="two-images">
              <image src="{{item.images[0]}}" mode="aspectFill"/>
              <image src="{{item.images[1]}}" mode="aspectFill"/>
            </view>
          </block>
          <block wx:else>
            <!-- ä¸‰å¼ åŠä»¥ä¸Šå›¾ç‰‡ -->
            <view class="multi-images">
              <image src="{{item.images[0]}}" mode="aspectFill"/>
              <view class="remaining-images" wx:if="{{item.images.length > 3}}">
                <text>+{{item.images.length - 3}}</text>
              </view>
            </view>
          </block>
        </view>
        
        <!-- æœºä½ä½ç½®ä¿¡æ¯ -->
        <view class="location-info">
          <icon type="location" size="16" color="#1AAD19"/>
          <text class="location-text">{{item.address}}</text>
          <text class="distance">{{item.distance}}</text>
        </view>
        
        <!-- æ‹æ‘„æç¤º -->
        <view class="shooting-tips" wx:if="{{item.tips}}">
          <text class="tip-label">ğŸ’¡ æ‹æ‘„æç¤ºï¼š</text>
          <text class="tip-content">{{item.tips}}</text>
        </view>
        
        <!-- æ ‡ç­¾ -->
        <view class="tags-container">
          <view class="tag">{{item.type === 'architecture' ? 'å»ºç­‘' : item.type === 'nature' ? 'è‡ªç„¶' : item.type === 'portrait' ? 'äººåƒ' : 'è¡—æ‹'}}</view>
          <view class="tag">{{item.season || 'å…¨å­£'}}</view>
          <view class="tag">æœ€ä½³æ—¶é—´ï¼š{{item.bestTime || 'å…¨å¤©'}}</view>
        </view>
        
        <!-- äº’åŠ¨åŒºåŸŸ -->
        <view class="post-actions">
          <view class="action-item">
            <icon type="like" size="20" color="{{item.isLiked ? '#FF4D4F' : '#999'}}"/>
            <text>{{item.favorites}}</text>
          </view>
          <view class="action-item">
            <icon type="comment" size="20" color="#999"/>
            <text>{{item.comments || '0'}}</text>
          </view>
          <view class="action-item">
            <icon type="share" size="20" color="#999"/>
            <text>åˆ†äº«</text>
          </view>
          <view class="action-item">
            <icon type="star" size="20" color="{{item.isFavorited ? '#FFD700' : '#999'}}"/>
            <text>{{item.checkins}}æ‰“å¡</text>
          </view>
        </view>
      </view>
    </block>
  </view>
  
  <!-- åŠ è½½æ›´å¤š -->
  <view class="load-more" wx:if="{{hasMore}}">
    <text>ä¸Šæ‹‰åŠ è½½æ›´å¤š</text>
  </view>
</view>

<!-- åº•éƒ¨å‘å¸ƒæŒ‰é’® -->
<view class="publish-btn" bindtap="publishLocation">
  <icon type="add" size="30" color="#fff"/>
</view>